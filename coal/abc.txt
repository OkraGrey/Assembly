INCLUDE Irvine32.inc

.stack 4096

.data 

t BYTE "AIRLINE TICKET MANAGEMENT SYSTEM",0
explain BYTE "1-Customer details will be fetched 2 - Schedule will be displayed  3 - Fair generation 4 - Discount ",0
portion1 BYTE "CUSTOMER DETAILS"
;NOTE This program will entertain a max of 20 customers
;customer credentials , fname is an array that will take name , cnic
;will contain cnic 
stringName BYTE "Enter Name : ",0
stringCnic BYTE "Enter cnic : ",0
customerNames BYTE 400 dup(?)
customerCnic BYTE 400 dup(?)
temp dword 0
count = 0


.code
main proc

call addCustomer
;count values
call addCustomer
call listAll



exit
main endp
addCustomer PROC
	push edx
	push ecx
	mov edx , offset stringName ; Enter Name : 
	call writestring
	call crlf 
	
	mov ecx , sizeof customerNames
	mov edx, offset [customerNames+count]
	call readstring
	
	mov edx , offset stringCnic ; Enter Cnic : 
	call writestring
	call crlf 
	
	mov ecx , sizeof customerCnic
	mov edx, offset [customerCnic+count]
	call readstring

	count = (count + 20)
	mov eax , count
	call writeint
	;if condition block is left , to ensure customers do not exceed 20
	pop edx 
	pop ecx
	ret

addCustomer ENDP
;---------------------------------------------------------
listAll PROC
	
	count2 = 0
	push ecx
	push edx
	mov ecx , 2
	l:
		mov temp,ecx 
		mov ecx , sizeof customerNames
		mov edx,offset [customerNames+count2]
		call writestring
		call crlf
		mov ecx , sizeof customerCnic
		mov edx,offset [customerCnic+count2]
		call writestring
		call crlf

		count2 = count2 + 20 
		mov ecx ,temp
		loop l
	pop edx
	pop ecx
	ret
listAll ENDP
end main